{"ast":null,"code":"var _jsxFileName = \"/Users/lairdkruger/Documents/Web Development/Work/inst19-20/Sites/INST19/INST19/src/components/objects/LightbarsInstanced.js\";\nimport React, { useRef, useEffect } from 'react';\nimport * as THREE from 'three';\nimport { useFrame } from 'react-three-fiber';\nconst tempObject = new THREE.Object3D();\n\nfunction LightbarsInstanced(props) {\n  const ref = useRef();\n  const previous = useRef();\n  useEffect(() => void (previous.current = hovered), [hovered]);\n  useFrame(state => {\n    const time = state.clock.getElapsedTime();\n    let i = 0;\n\n    for (let x = 0; x < 10; x++) {\n      const id = i++;\n      tempObject.position.set(x, 0, 0);\n\n      if (hovered !== previous.current) {\n        console.log('hovered');\n        ref.current.geometry.attributes.color.needsUpdate = true;\n      }\n    }\n\n    ref.current.instanceMatrix.needsUpdate = true;\n  });\n  return /*#__PURE__*/React.createElement(\"instancedMesh\", {\n    ref: ref,\n    args: [null, null, 10],\n    onPointerMove: e => set(e.instanceId),\n    onPointerOut: e => set(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"boxBufferGeometry\", {\n    attach: \"geometry\",\n    args: [0.7, 0.7, 0.7],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"meshPhongMaterial\", {\n    attach: \"material\",\n    vertexColors: THREE.VertexColors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }));\n} //     const bars = useRef()\n//     const {viewport} = useThree()\n//     const height = viewport.height * state.pages\n//     const barsStore = [\n//         {\n//             id: 'bar1',\n//             width: viewport.width / 10,\n//             height: height,\n//             color: new Color('#F84006'),\n//         },\n//         {\n//             id: 'bar2',\n//             width: viewport.width / 8,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar3',\n//             width: viewport.width / 7,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar4',\n//             width: viewport.width / 4,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar5',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar6',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n//         {\n//             id: 'bar7',\n//             width: viewport.width / 12,\n//             height: height,\n//             color: new Color('#F84006'),\n//         },\n//         {\n//             id: 'bar8',\n//             width: viewport.width / 9,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar9',\n//             width: viewport.width / 6,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar10',\n//             width: viewport.width / 3,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar11',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar12',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n//         {\n//             id: 'bar13',\n//             width: viewport.width / 13,\n//             height: height,\n//             color: new Color('#FB7A29'),\n//         },\n//         {\n//             id: 'bar14',\n//             width: viewport.width / 8,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar15',\n//             width: viewport.width / 5,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar16',\n//             width: viewport.width / 3,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar17',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar18',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n//     ]\n//     return (\n//         <group ref={bars} {...props}>\n//             {barsStore.map((bar) => (\n//                 <Lightbar key={bar.id} bar={bar} />\n//             ))}\n//         </group>\n//     )\n// }\n\n\nexport default LightbarsInstanced;","map":{"version":3,"sources":["/Users/lairdkruger/Documents/Web Development/Work/inst19-20/Sites/INST19/INST19/src/components/objects/LightbarsInstanced.js"],"names":["React","useRef","useEffect","THREE","useFrame","tempObject","Object3D","LightbarsInstanced","props","ref","previous","current","hovered","state","time","clock","getElapsedTime","i","x","id","position","set","console","log","geometry","attributes","color","needsUpdate","instanceMatrix","e","instanceId","undefined","VertexColors"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAAQC,QAAR,QAAuB,mBAAvB;AAEA,MAAMC,UAAU,GAAG,IAAIF,KAAK,CAACG,QAAV,EAAnB;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAC/B,QAAMC,GAAG,GAAGR,MAAM,EAAlB;AACA,QAAMS,QAAQ,GAAGT,MAAM,EAAvB;AACAC,EAAAA,SAAS,CAAC,MAAM,MAAMQ,QAAQ,CAACC,OAAT,GAAmBC,OAAzB,CAAP,EAA0C,CAACA,OAAD,CAA1C,CAAT;AAEAR,EAAAA,QAAQ,CAAES,KAAD,IAAW;AAChB,UAAMC,IAAI,GAAGD,KAAK,CAACE,KAAN,CAAYC,cAAZ,EAAb;AAEA,QAAIC,CAAC,GAAG,CAAR;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,YAAMC,EAAE,GAAGF,CAAC,EAAZ;AACAZ,MAAAA,UAAU,CAACe,QAAX,CAAoBC,GAApB,CAAwBH,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B;;AAEA,UAAIN,OAAO,KAAKF,QAAQ,CAACC,OAAzB,EAAkC;AAC9BW,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAd,QAAAA,GAAG,CAACE,OAAJ,CAAYa,QAAZ,CAAqBC,UAArB,CAAgCC,KAAhC,CAAsCC,WAAtC,GAAoD,IAApD;AACH;AACJ;;AACDlB,IAAAA,GAAG,CAACE,OAAJ,CAAYiB,cAAZ,CAA2BD,WAA3B,GAAyC,IAAzC;AACH,GAdO,CAAR;AAgBA,sBACI;AACI,IAAA,GAAG,EAAElB,GADT;AAEI,IAAA,IAAI,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,EAAb,CAFV;AAGI,IAAA,aAAa,EAAGoB,CAAD,IAAOR,GAAG,CAACQ,CAAC,CAACC,UAAH,CAH7B;AAII,IAAA,YAAY,EAAGD,CAAD,IAAOR,GAAG,CAACU,SAAD,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMI;AACI,IAAA,MAAM,EAAC,UADX;AAEI,IAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,eAUI;AAAmB,IAAA,MAAM,EAAC,UAA1B;AAAqC,IAAA,YAAY,EAAE5B,KAAK,CAAC6B,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADJ;AAcH,C,CAED;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAezB,kBAAf","sourcesContent":["import React, {useRef, useEffect} from 'react'\nimport * as THREE from 'three'\nimport {useFrame} from 'react-three-fiber'\n\nconst tempObject = new THREE.Object3D()\n\nfunction LightbarsInstanced(props) {\n    const ref = useRef()\n    const previous = useRef()\n    useEffect(() => void (previous.current = hovered), [hovered])\n\n    useFrame((state) => {\n        const time = state.clock.getElapsedTime()\n\n        let i = 0\n        for (let x = 0; x < 10; x++) {\n            const id = i++\n            tempObject.position.set(x, 0, 0)\n\n            if (hovered !== previous.current) {\n                console.log('hovered')\n                ref.current.geometry.attributes.color.needsUpdate = true\n            }\n        }\n        ref.current.instanceMatrix.needsUpdate = true\n    })\n\n    return (\n        <instancedMesh\n            ref={ref}\n            args={[null, null, 10]}\n            onPointerMove={(e) => set(e.instanceId)}\n            onPointerOut={(e) => set(undefined)}\n        >\n            <boxBufferGeometry\n                attach=\"geometry\"\n                args={[0.7, 0.7, 0.7]}\n            ></boxBufferGeometry>\n            <meshPhongMaterial attach=\"material\" vertexColors={THREE.VertexColors} />\n        </instancedMesh>\n    )\n}\n\n//     const bars = useRef()\n\n//     const {viewport} = useThree()\n\n//     const height = viewport.height * state.pages\n\n//     const barsStore = [\n//         {\n//             id: 'bar1',\n//             width: viewport.width / 10,\n//             height: height,\n//             color: new Color('#F84006'),\n//         },\n//         {\n//             id: 'bar2',\n//             width: viewport.width / 8,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar3',\n//             width: viewport.width / 7,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar4',\n//             width: viewport.width / 4,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar5',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar6',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n\n//         {\n//             id: 'bar7',\n//             width: viewport.width / 12,\n//             height: height,\n//             color: new Color('#F84006'),\n//         },\n//         {\n//             id: 'bar8',\n//             width: viewport.width / 9,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar9',\n//             width: viewport.width / 6,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar10',\n//             width: viewport.width / 3,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar11',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar12',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n//         {\n//             id: 'bar13',\n//             width: viewport.width / 13,\n//             height: height,\n//             color: new Color('#FB7A29'),\n//         },\n//         {\n//             id: 'bar14',\n//             width: viewport.width / 8,\n//             height: height,\n//             color: new Color('#E10906'),\n//         },\n//         {\n//             id: 'bar15',\n//             width: viewport.width / 5,\n//             height: height,\n//             color: new Color('#BA0301'),\n//         },\n//         {\n//             id: 'bar16',\n//             width: viewport.width / 3,\n//             height: height,\n//             color: new Color('#7A0707'),\n//         },\n//         {\n//             id: 'bar17',\n//             width: viewport.width / 1.5,\n//             height: height,\n//             color: new Color('#450202'),\n//         },\n//         {\n//             id: 'bar18',\n//             width: viewport.width / 1.3,\n//             height: height,\n//             color: new Color('#400303'),\n//         },\n//     ]\n\n//     return (\n//         <group ref={bars} {...props}>\n//             {barsStore.map((bar) => (\n//                 <Lightbar key={bar.id} bar={bar} />\n//             ))}\n//         </group>\n//     )\n// }\n\nexport default LightbarsInstanced\n"]},"metadata":{},"sourceType":"module"}